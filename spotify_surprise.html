<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KEJUTAN PENTING!</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/456.css">
</head>
<body>
    <div class="main-container">
        <div class="header-section">
            <div class="profile-area">
                <div class="profile-pic-wrapper">
                    <img id="birthdayPersonPic" src="images/your_photo.jpg" alt="[TARGET_PHOTO]" class="profile-pic">
                </div>
                <div class="chat-bubble">
                    [BOT]: Hi, Mayfa Kamu Sudah Melewati Tantangan Selama?
                </div>
            </div>
        </div>

        <div class="countdown-section">
            <h1 id="ageDisplay" class="age-text">00 TAHUN 00 BULAN</h1>
            <div class="countdown-timer">
                <div class="time-box">
                    <span id="days" class="time-value">00</span>
                    <span class="time-label">HARI</span>
                </div>
                <span class="colon">:</span>
                <div class="time-box">
                    <span id="hours" class="time-value">00</span>
                    <span class="time-label">JAM</span>
                </div>
                <span class="colon">:</span>
                <div class="time-box">
                    <span id="minutes" class="time-value">00</span>
                    <span class="time-label">MENIT</span>
                </div>
                <span class="colon">:</span>
                <div class="time-box">
                    <span id="seconds" class="time-value">00</span>
                    <span class="time-label">DETIK</span>
                </div>
            </div>
            
            <button class="gift-button" onclick="showGift()">
                CLICK TO UNLOCK GIFT!!!
            </button>

            <div class="footer-icons">
                <span><*></span>
                <span><*></span>
                <span><*></span>
                <span><*></span>
            </div>
            
            <p class="made-with-love">Made_By_Xlord</p>
        </div>
    </div>

    <script>
        // Tanggal lahir orang yang berulang tahun: 28 September 2005
        // Format: YYYY-MM-DD
        const birthDateStr = "2005-09-28";
        const birthDate = new Date(birthDateStr);

        // Tanggal tujuan untuk countdown (ulang tahun berikutnya)
        let nextBirthday = new Date(new Date().getFullYear(), birthDate.getMonth(), birthDate.getDate());

        // Jika ulang tahun berikutnya sudah lewat di tahun ini, set ke tahun depan
        if (nextBirthday < new Date()) {
            nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
        }

        // --- Fungsi untuk memperbarui tampilan umur (X Years Y Months) ---
        function updateAgeDisplay() {
            const now = new Date();
            let years = now.getFullYear() - birthDate.getFullYear();
            let months = now.getMonth() - birthDate.getMonth();
            let daysInMonth = now.getDate() - birthDate.getDate();

            if (daysInMonth < 0) {
                months--;
                const prevMonth = new Date(now.getFullYear(), now.getMonth(), 0);
                daysInMonth = prevMonth.getDate() + daysInMonth; 
            }

            if (months < 0) {
                years--;
                months += 12;
            }

            document.getElementById('ageDisplay').textContent = 
                `${String(years).padStart(2, '0')} TAHUN ${String(months).padStart(2, '0')} BULAN`;
        }

        // --- Fungsi untuk memperbarui countdown ---
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = nextBirthday.getTime() - now;

            if (distance < 0) {
                document.getElementById("days").textContent = "00";
                document.getElementById("hours").textContent = "00";
                document.getElementById("minutes").textContent = "00";
                document.getElementById("seconds").textContent = "00";
                document.getElementById("ageDisplay").textContent = "SELAMAT ULANG TAHUN!";
                
                nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = String(days).padStart(2, '0');
            document.getElementById("hours").textContent = String(hours).padStart(2, '0');
            document.getElementById("minutes").textContent = String(minutes).padStart(2, '0');
            document.getElementById("seconds").textContent = String(seconds).padStart(2, '0');

            updateAgeDisplay();
        }

        updateCountdown();
        setInterval(updateCountdown, 1000);

        function showGift() {
            window.location.href = 'gift_qr.html';
        }
    </script>
</body>
</html>
